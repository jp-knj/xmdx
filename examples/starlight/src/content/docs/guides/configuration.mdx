---
title: Configuration
description: Configure astro-xmdx with Starlight.
draft: false
---

The `astro-xmdx` integration auto-detects `@astrojs/starlight` and configures itself automatically â€” no preset needed.

## Full Configuration Example

```js title="astro.config.mjs" {3,8}
import { defineConfig } from 'astro/config';
import starlight from '@astrojs/starlight';
import xmdx from 'astro-xmdx';

export default defineConfig({
  integrations: [
    starlight({
      title: 'My Docs',
      sidebar: [
        { label: 'Guides', autogenerate: { directory: 'guides' } },
      ],
    }),
    xmdx(),
  ],
});
```

## What Auto-Detection Does

When `@astrojs/starlight` is detected, `astro-xmdx` automatically configures:

- **Expressive Code** syntax highlighting compatible with Starlight themes
- **Remark plugins** for enhanced Markdown processing
- **Rehype plugins** for HTML transformations
- **Component auto-injection** so Starlight components (Aside, Badge, Card, etc.) are available without explicit imports

## Integration Order

Place `starlight()` before `xmdx()` in the integrations array:

```js
integrations: [
  starlight({ ... }), // 1. Starlight registers first
  xmdx(),             // 2. xmdx auto-detects Starlight
]
```

Auto-detection reads the full `config.integrations` array, so it works regardless of order. However, listing Starlight first ensures its configuration (routes, virtual modules, component overrides) is fully set up before xmdx processes MDX files.
